<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Treatment Effects in Interactive Fixed Effects Models â€¢ ife</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Treatment Effects in Interactive Fixed Effects Models">
<meta property="og:description" content="This is code to estimate treatment effects in interactive fixed effects models where the number of available time periods is relatively small.  It implements the approach of Callaway and Karami (2020).  Basically, the idea is to use identify/estimate the parameters of an interactive fixed effects model for untreated potential outcomes using the group of units that do not participate in the treatment by exploiting that the effect of at least one particular covariate does not change over time (this condition may not be met in all applications).  See the paper for more details.  This setup is likely to be attractive in applications where the distribution of time invariant unobservables is different between the treated group and untreated group and when the effect of these time invariant unobservables can vary over time.  This situation would cause alternative identification strategies such as difference-in-differences or individual-specific linear trends to generally fail.  ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ife</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="interactive-fixed-effects-ife-package" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#interactive-fixed-effects-ife-package" class="anchor"></a>Interactive Fixed Effects (ife) Package</h1></div>
<p>The <code>ife</code> package contains code to estimate treatment effects in a setup where a researcher has access to panel data (or, hopefully in the near future, repeated cross sections data) and where untreated potential outcomes are generated by an interactive fixed effects model.</p>
<p>The package is not currently available on CRAN, but it can be the development version of the package can be installed from github by</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"bcallaway11/ife"</span><span class="op">)</span></code></pre></div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>Next, we provide a brief example using the application from Callaway and Karami (2021).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ife.html">ife</a></span><span class="op">(</span>yname<span class="op">=</span><span class="st">"earn"</span>,
           gname<span class="op">=</span><span class="st">"first.displaced"</span>,
           tname<span class="op">=</span><span class="st">"year"</span>,
           idname<span class="op">=</span><span class="st">"id"</span>,
           data<span class="op">=</span><span class="va">job_displacement_data</span>,
           nife<span class="op">=</span><span class="fl">1</span>,
           xformla<span class="op">=</span><span class="op">~</span><span class="va">EDUC</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">gender</span>,
           zformla<span class="op">=</span><span class="op">~</span><span class="va">EDUC</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">afqt</span>,
           ret_ife_regs<span class="op">=</span><span class="cn">TRUE</span>,
           anticipation<span class="op">=</span><span class="fl">1</span>,
           cband<span class="op">=</span><span class="cn">FALSE</span>,
           alp<span class="op">=</span><span class="fl">0.10</span>,
           boot_type<span class="op">=</span><span class="st">"multiplier"</span>,
           biters<span class="op">=</span><span class="fl">1000</span>,
           cl<span class="op">=</span><span class="fl">10</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Overall ATT:  </span>
<span class="co">#&gt;        ATT    Std. Error     [ 90%  Conf. Int.]  </span>
<span class="co">#&gt;  -3913.851      1134.183  -5779.416   -2048.285 *</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dynamic Effects:</span>
<span class="co">#&gt;  Event Time   Estimate Std. Error     [90%  Conf. Band]  </span>
<span class="co">#&gt;          -6   -63.8360   935.2442 -1602.176   1474.5038  </span>
<span class="co">#&gt;          -4   -63.4326   718.9872 -1246.061   1119.1961  </span>
<span class="co">#&gt;          -2  -664.5203   599.9842 -1651.407    322.3659  </span>
<span class="co">#&gt;           0 -3848.8739  1012.5293 -5514.336  -2183.4114 *</span>
<span class="co">#&gt;           2 -4179.1319  1517.3515 -6674.953  -1683.3107 *</span>
<span class="co">#&gt;           4 -1454.0791  2692.8549 -5883.431   2975.2730  </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes: `*' confidence band does not cover 0</span>
<span class="fu">ggpte</span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.window.html">ylim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">6000</span>,<span class="fl">6000</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
<p>We also have some code for running <em>individual-specific linear trends models</em>. These are a special case of the interactive fixed effects models that we consider in the paper, but where the factors <span class="math inline"><em>F</em><sub><em>t</em></sub></span> are restricted to be equal to <span class="math inline"><em>t</em></span>. We mostly argue <em>against</em> these sorts of models in the paper, but one advantage is that they do not require any restrictions/assumptions about finding a covariate whose effects do not change over time.</p>
<p>This code also implements a version of linear trends that is specific to untreated potential outcomes. Presumably, many of the same criticisms (and perhaps more actually) in recent papers about implementing DID with a two-way fixed effects regression likely apply when one includes individual-specific linear trends in the same sort of specification. The code we provide here circumvents those issues.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lt_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/linear_trends.html">linear_trends</a></span><span class="op">(</span>yname<span class="op">=</span><span class="st">"earn"</span>,
                        gname<span class="op">=</span><span class="st">"first.displaced"</span>,
                        tname<span class="op">=</span><span class="st">"year"</span>,
                        idname<span class="op">=</span><span class="st">"id"</span>,
                        data<span class="op">=</span><span class="va">job_displacement_data</span>,
                        xformla<span class="op">=</span><span class="op">~</span><span class="fl">1</span>,
                        anticipation<span class="op">=</span><span class="fl">1</span>,
                        cband<span class="op">=</span><span class="cn">FALSE</span>,
                        alp<span class="op">=</span><span class="fl">0.10</span>,
                        boot_type<span class="op">=</span><span class="st">"multiplier"</span>,
                        biters<span class="op">=</span><span class="fl">1000</span>,
                        cl<span class="op">=</span><span class="fl">10</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">lt_res</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Overall ATT:  </span>
<span class="co">#&gt;        ATT    Std. Error     [ 90%  Conf. Int.]  </span>
<span class="co">#&gt;  -3610.586      1293.201  -5737.712   -1483.459 *</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dynamic Effects:</span>
<span class="co">#&gt;  Event Time   Estimate Std. Error     [90%  Conf. Band]  </span>
<span class="co">#&gt;          -6   -80.0095   840.6203 -1462.707   1302.6878  </span>
<span class="co">#&gt;          -4  -185.5270   742.5218 -1406.867   1035.8127  </span>
<span class="co">#&gt;          -2  -659.0171   617.9471 -1675.450    357.4154  </span>
<span class="co">#&gt;           0 -3751.3352  1226.3774 -5768.547  -1734.1238 *</span>
<span class="co">#&gt;           2 -3869.5496  1793.1055 -6818.946   -920.1535 *</span>
<span class="co">#&gt;           4  -376.1558  3158.6755 -5571.715   4819.4030  </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes: `*' confidence band does not cover 0</span>
<span class="fu">ggpte</span><span class="op">(</span><span class="va">lt_res</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.window.html">ylim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">6000</span>,<span class="fl">6000</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="100%"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Brantly Callaway <br><small class="roles"> Author, maintainer </small>  </li>
<li>Sonia Karami <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Brantly Callaway, Sonia Karami.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
