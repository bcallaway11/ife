<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Treatment Effects in Interactive Fixed Effects Models â€¢ ife</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Treatment Effects in Interactive Fixed Effects Models">
<meta name="description" content="This is code to estimate treatment effects in interactive fixed effects models where the number of available time periods is relatively small. It implements the approaches proposed in Callaway and Karami (2023) and in Callaway and Tsyawo (2023). For CK2023, the basic idea is to use identify/estimate the parameters of an interactive fixed effects model for untreated potential outcomes using the group of units that do not participate in the treatment by exploiting that the effect of at least one particular covariate does not change over time (this condition may not be met in all applications). See the paper for more details. For CT2023, the idea is to exploit staggered treatment adoption to be able to recover the parameters of the interactive fixed effects model. This setup is likely to be attractive in applications where the distribution of time invariant unobservables is different between the treated group and untreated group and when the effect of these time invariant unobservables can vary over time. This situation would cause alternative identification strategies such as difference-in-differences or individual-specific linear trends to generally fail.">
<meta property="og:description" content="This is code to estimate treatment effects in interactive fixed effects models where the number of available time periods is relatively small. It implements the approaches proposed in Callaway and Karami (2023) and in Callaway and Tsyawo (2023). For CK2023, the basic idea is to use identify/estimate the parameters of an interactive fixed effects model for untreated potential outcomes using the group of units that do not participate in the treatment by exploiting that the effect of at least one particular covariate does not change over time (this condition may not be met in all applications). See the paper for more details. For CT2023, the idea is to exploit staggered treatment adoption to be able to recover the parameters of the interactive fixed effects model. This setup is likely to be attractive in applications where the distribution of time invariant unobservables is different between the treated group and untreated group and when the effect of these time invariant unobservables can vary over time. This situation would cause alternative identification strategies such as difference-in-differences or individual-specific linear trends to generally fail.">
<meta property="og:image" content="/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ife</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.902</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="interactive-fixed-effects-ife-package-">Interactive Fixed Effects (ife) Package <a class="anchor" aria-label="anchor" href="#interactive-fixed-effects-ife-package-"></a>
</h1>
</div>
<p>The <code>ife</code> package contains code to estimate treatment effects in a setup where a researcher has access to panel data (or, hopefully in the near future, repeated cross sections data) and where untreated potential outcomes are generated by an interactive fixed effects model.</p>
<p>The package is not currently available on CRAN, but the development version of the package can be installed from github by</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"bcallaway11/ife"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Next, we provide a brief example using the application from Callaway and Karami (2021).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ife.html">ife</a></span><span class="op">(</span>yname<span class="op">=</span><span class="st">"earn"</span>,</span>
<span>           gname<span class="op">=</span><span class="st">"first.displaced"</span>,</span>
<span>           tname<span class="op">=</span><span class="st">"year"</span>,</span>
<span>           idname<span class="op">=</span><span class="st">"id"</span>,</span>
<span>           data<span class="op">=</span><span class="va">job_displacement_data</span>,</span>
<span>           nife<span class="op">=</span><span class="fl">1</span>,</span>
<span>           xformla<span class="op">=</span><span class="op">~</span><span class="va">EDUC</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">gender</span>,</span>
<span>           zformla<span class="op">=</span><span class="op">~</span><span class="va">EDUC</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">afqt</span>,</span>
<span>           ret_ife_regs<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>           anticipation<span class="op">=</span><span class="fl">1</span>,</span>
<span>           cband<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>           alp<span class="op">=</span><span class="fl">0.10</span>,</span>
<span>           boot_type<span class="op">=</span><span class="st">"multiplier"</span>,</span>
<span>           biters<span class="op">=</span><span class="fl">1000</span>,</span>
<span>           cl<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Overall ATT:  </span></span>
<span><span class="co">#&gt;        ATT    Std. Error     [ 90%  Conf. Int.]  </span></span>
<span><span class="co">#&gt;  -3976.881      1141.811  -5854.993   -2098.769 *</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dynamic Effects:</span></span>
<span><span class="co">#&gt;  Event Time   Estimate Std. Error     [90%  Conf. Band]  </span></span>
<span><span class="co">#&gt;          -6   -15.0413   791.5992 -1317.106   1287.0234  </span></span>
<span><span class="co">#&gt;          -4  -131.3128   701.6462 -1285.418   1022.7925  </span></span>
<span><span class="co">#&gt;          -2  -664.5203   580.2852 -1619.005    289.9638  </span></span>
<span><span class="co">#&gt;           0 -3946.5861   986.6150 -5569.423  -2323.7488 *</span></span>
<span><span class="co">#&gt;           2 -4281.1615  1537.6912 -6810.438  -1751.8846 *</span></span>
<span><span class="co">#&gt;           4 -1454.0791  2591.7845 -5717.185   2809.0271  </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes: `*' confidence band does not cover 0</span></span>
<span><span class="fu">ggpte</span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ylim</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">7000</span>,<span class="fl">7000</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
<p>We also have some code for running <em>individual-specific linear trends models</em>. These are a special case of the interactive fixed effects models that we consider in the paper, but where the factors <img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;F_t%20%22F_t%22" alt="F_t"> are restricted to be equal to <img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;t%20%22t%22" alt="t">. We mostly argue <em>against</em> these sorts of models in the paper, but one advantage is that they do not require any restrictions/assumptions about finding a covariate whose effects do not change over time.</p>
<p>This code also implements a version of linear trends that is specific to untreated potential outcomes. Presumably, many of the same criticisms (and perhaps more actually) in recent papers about implementing DID with a two-way fixed effects regression likely apply when one includes individual-specific linear trends in the same sort of specification. The code we provide here circumvents those issues.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lt_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/linear_trends.html">linear_trends</a></span><span class="op">(</span>yname<span class="op">=</span><span class="st">"earn"</span>,</span>
<span>                        gname<span class="op">=</span><span class="st">"first.displaced"</span>,</span>
<span>                        tname<span class="op">=</span><span class="st">"year"</span>,</span>
<span>                        idname<span class="op">=</span><span class="st">"id"</span>,</span>
<span>                        data<span class="op">=</span><span class="va">job_displacement_data</span>,</span>
<span>                        xformla<span class="op">=</span><span class="op">~</span><span class="va">EDUC</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">gender</span>,</span>
<span>                        anticipation<span class="op">=</span><span class="fl">1</span>,</span>
<span>                        cband<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>                        alp<span class="op">=</span><span class="fl">0.10</span>,</span>
<span>                        boot_type<span class="op">=</span><span class="st">"multiplier"</span>,</span>
<span>                        biters<span class="op">=</span><span class="fl">1000</span>,</span>
<span>                        cl<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lt_res</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Overall ATT:  </span></span>
<span><span class="co">#&gt;        ATT    Std. Error     [ 90%  Conf. Int.]  </span></span>
<span><span class="co">#&gt;  -3463.467      1350.412  -5684.697   -1242.236 *</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dynamic Effects:</span></span>
<span><span class="co">#&gt;  Event Time   Estimate Std. Error     [90%  Conf. Band]  </span></span>
<span><span class="co">#&gt;          -6   -17.6954   823.6747 -1372.520   1337.1290  </span></span>
<span><span class="co">#&gt;          -4   -69.4965   702.3175 -1224.706   1085.7130  </span></span>
<span><span class="co">#&gt;          -2  -586.0360   654.9993 -1663.414    491.3420  </span></span>
<span><span class="co">#&gt;           0 -3599.9237  1205.0032 -5581.978  -1617.8697 *</span></span>
<span><span class="co">#&gt;           2 -3628.0465  1808.2979 -6602.432   -653.6612 *</span></span>
<span><span class="co">#&gt;           4   326.6318  3178.3581 -4901.302   5554.5656  </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes: `*' confidence band does not cover 0</span></span>
<span><span class="fu">ggpte</span><span class="op">(</span><span class="va">lt_res</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ylim</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">7000</span>,<span class="fl">7000</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="100%"></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ife</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Brantly Callaway <br><small class="roles"> Author, maintainer </small>  </li>
<li>Sonia Karami <br><small class="roles"> Author </small>  </li>
<li>Emmanuel Tsyawo <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brantly Callaway, Sonia Karami, Emmanuel Tsyawo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
