<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Treatment Effects in Interactive Fixed Effects Models â€¢ ife</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Treatment Effects in Interactive Fixed Effects Models">
<meta property="og:description" content="This is code to estimate treatment effects in interactive fixed effects models where the number of available time periods is relatively small.  It implements the approaches proposed in Callaway and Karami (2023) and in Callaway and Tsyawo (2023).  For CK2023, the basic idea is to use identify/estimate the parameters of an interactive fixed effects model for untreated potential outcomes using the group of units that do not participate in the treatment by exploiting that the effect of at least one particular covariate does not change over time (this condition may not be met in all applications).  See the paper for more details.  For CT2023, the idea is to exploit staggered treatment adoption to be able to recover the parameters of the interactive fixed effects model.  This setup is likely to be attractive in applications where the distribution of time invariant unobservables is different between the treated group and untreated group and when the effect of these time invariant unobservables can vary over time.  This situation would cause alternative identification strategies such as difference-in-differences or individual-specific linear trends to generally fail.  ">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ife</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.901</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="interactive-fixed-effects-ife-package-">Interactive Fixed Effects (ife) Package <img src="reference/figures/logo.png" align="right" height="139" alt=""><a class="anchor" aria-label="anchor" href="#interactive-fixed-effects-ife-package-"></a>
</h1></div>
<p>The <code>ife</code> package contains code to estimate treatment effects in a setup where a researcher has access to panel data (or, hopefully in the near future, repeated cross sections data) and where untreated potential outcomes are generated by an interactive fixed effects model.</p>
<p>The package is not currently available on CRAN, but the development version of the package can be installed from github by</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"bcallaway11/ife"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Next, we provide a brief example using the application from Callaway and Karami (2021).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ife.html">ife</a></span><span class="op">(</span>yname<span class="op">=</span><span class="st">"earn"</span>,</span>
<span>           gname<span class="op">=</span><span class="st">"first.displaced"</span>,</span>
<span>           tname<span class="op">=</span><span class="st">"year"</span>,</span>
<span>           idname<span class="op">=</span><span class="st">"id"</span>,</span>
<span>           data<span class="op">=</span><span class="va">job_displacement_data</span>,</span>
<span>           nife<span class="op">=</span><span class="fl">1</span>,</span>
<span>           xformla<span class="op">=</span><span class="op">~</span><span class="va">EDUC</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">gender</span>,</span>
<span>           zformla<span class="op">=</span><span class="op">~</span><span class="va">EDUC</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">afqt</span>,</span>
<span>           ret_ife_regs<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>           anticipation<span class="op">=</span><span class="fl">1</span>,</span>
<span>           cband<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>           alp<span class="op">=</span><span class="fl">0.10</span>,</span>
<span>           boot_type<span class="op">=</span><span class="st">"multiplier"</span>,</span>
<span>           biters<span class="op">=</span><span class="fl">1000</span>,</span>
<span>           cl<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Overall ATT:  </span></span>
<span><span class="co">#&gt;        ATT    Std. Error     [ 90%  Conf. Int.]  </span></span>
<span><span class="co">#&gt;  -3976.881      1131.198  -5837.537   -2116.225 *</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dynamic Effects:</span></span>
<span><span class="co">#&gt;  Event Time   Estimate Std. Error     [90%  Conf. Band]  </span></span>
<span><span class="co">#&gt;          -6   -15.0413   851.3006 -1415.306   1385.2235  </span></span>
<span><span class="co">#&gt;          -4  -131.3128   688.5025 -1263.799   1001.1730  </span></span>
<span><span class="co">#&gt;          -2  -664.5203   633.7427 -1706.934    377.8937  </span></span>
<span><span class="co">#&gt;           0 -3946.5861  1044.2221 -5664.179  -2228.9936 *</span></span>
<span><span class="co">#&gt;           2 -4281.1615  1554.6782 -6838.380  -1723.9434 *</span></span>
<span><span class="co">#&gt;           4 -1454.0791  2663.9072 -5835.817   2927.6584  </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes: `*' confidence band does not cover 0</span></span>
<span><span class="fu">ggpte</span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ylim</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">7000</span>,<span class="fl">7000</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
<p>We also have some code for running <em>individual-specific linear trends models</em>. These are a special case of the interactive fixed effects models that we consider in the paper, but where the factors <span class="math inline"><em>F</em><sub><em>t</em></sub></span> are restricted to be equal to <span class="math inline"><em>t</em></span>. We mostly argue <em>against</em> these sorts of models in the paper, but one advantage is that they do not require any restrictions/assumptions about finding a covariate whose effects do not change over time.</p>
<p>This code also implements a version of linear trends that is specific to untreated potential outcomes. Presumably, many of the same criticisms (and perhaps more actually) in recent papers about implementing DID with a two-way fixed effects regression likely apply when one includes individual-specific linear trends in the same sort of specification. The code we provide here circumvents those issues.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lt_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/linear_trends.html">linear_trends</a></span><span class="op">(</span>yname<span class="op">=</span><span class="st">"earn"</span>,</span>
<span>                        gname<span class="op">=</span><span class="st">"first.displaced"</span>,</span>
<span>                        tname<span class="op">=</span><span class="st">"year"</span>,</span>
<span>                        idname<span class="op">=</span><span class="st">"id"</span>,</span>
<span>                        data<span class="op">=</span><span class="va">job_displacement_data</span>,</span>
<span>                        xformla<span class="op">=</span><span class="op">~</span><span class="va">EDUC</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">gender</span>,</span>
<span>                        anticipation<span class="op">=</span><span class="fl">1</span>,</span>
<span>                        cband<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>                        alp<span class="op">=</span><span class="fl">0.10</span>,</span>
<span>                        boot_type<span class="op">=</span><span class="st">"multiplier"</span>,</span>
<span>                        biters<span class="op">=</span><span class="fl">1000</span>,</span>
<span>                        cl<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lt_res</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Overall ATT:  </span></span>
<span><span class="co">#&gt;        ATT    Std. Error     [ 90%  Conf. Int.]  </span></span>
<span><span class="co">#&gt;  -3463.467      1273.276   -5557.82   -1369.113 *</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dynamic Effects:</span></span>
<span><span class="co">#&gt;  Event Time   Estimate Std. Error     [90%  Conf. Band]  </span></span>
<span><span class="co">#&gt;          -6   -17.6954   791.4771 -1319.559   1284.1686  </span></span>
<span><span class="co">#&gt;          -4   -69.4965   734.1094 -1276.999   1138.0060  </span></span>
<span><span class="co">#&gt;          -2  -586.0360   668.7988 -1686.112    514.0401  </span></span>
<span><span class="co">#&gt;           0 -3599.9237  1171.4060 -5526.715  -1673.1322 *</span></span>
<span><span class="co">#&gt;           2 -3628.0465  1733.9698 -6480.173   -775.9201 *</span></span>
<span><span class="co">#&gt;           4   326.6318  3058.3245 -4703.864   5357.1279  </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes: `*' confidence band does not cover 0</span></span>
<span><span class="fu">ggpte</span><span class="op">(</span><span class="va">lt_res</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ylim</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">7000</span>,<span class="fl">7000</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="100%"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ife</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Brantly Callaway <br><small class="roles"> Author, maintainer </small>  </li>
<li>Sonia Karami <br><small class="roles"> Author </small>  </li>
<li>Emmanuel Tsyawo <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Brantly Callaway, Sonia Karami, Emmanuel Tsyawo.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
